---
alwaysApply: true
---

# React Performance Rules

## 1. Memoize Callback Props
**Rule:** Always wrap callback functions in `useCallback` when passing them as props to child components.

**Why:** Functions are recreated on every render. If a child component's `useEffect` depends on that callback, it will re-run unnecessarily, potentially destroying/recreating expensive resources (like BPMN viewers, charts, etc.).

**Example:**
```tsx
// ❌ BAD - Function recreated every render
const handleClick = (id: string) => {
  doSomething(id);
};

// ✅ GOOD - Stable function reference
const handleClick = useCallback((id: string) => {
  doSomething(id);
}, [dependencies]);
```

**When to use:**
- Callbacks passed to child components
- Callbacks in useEffect dependencies
- Event handlers passed to memoized components
